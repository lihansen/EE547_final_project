"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.composeWithConnection = void 0;
const graphql_compose_1 = require("graphql-compose");
const connection_1 = require("./connection");
function composeWithConnection(typeComposer, opts) {
    if (!(typeComposer instanceof graphql_compose_1.ObjectTypeComposer)) {
        throw new Error('You should provide ObjectTypeComposer instance to composeWithRelay method');
    }
    if (!opts) {
        throw new Error('You should provide non-empty options to composeWithConnection');
    }
    const resolverName = opts.name || 'connection';
    if (typeComposer.hasResolver(resolverName)) {
        return typeComposer;
    }
    const resolver = connection_1.prepareConnectionResolver(typeComposer, opts);
    typeComposer.setResolver(resolverName, resolver);
    return typeComposer;
}
exports.composeWithConnection = composeWithConnection;
//# sourceMappingURL=composeWithConnection.js.map